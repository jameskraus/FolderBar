{"id":"FolderBar-033","title":"Lint configs + local scripts","description":"Add SwiftFormat/SwiftLint configs and local lint scripts.\\n\\nScope:\\n- Add .swiftformat and .swiftlint.yml configs.\\n- Add local scripts or Makefile targets to run swiftformat/swiftlint.\\n- Document lint usage in README.\\n\\nAcceptance Criteria:\\n- Lint config files exist in repo.\\n- Local lint commands run without CI.\\n- README documents how to run lint locally.","notes":"- Added .swiftformat and .swiftlint.yml configs.\n- Added Makefile targets: make format / make lint.\n- README documents installing swiftformat/swiftlint and running lint locally.\n- Aligned swiftformat config with swiftlint (no trailing commas; no multiline statement brace wrapping).\n- Ran swiftformat + swiftlint successfully.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T01:52:01.969037-05:00","updated_at":"2025-12-22T01:56:50.373058-05:00","closed_at":"2025-12-22T01:56:50.373058-05:00","close_reason":"Completed"}
{"id":"FolderBar-04e","title":"Debug builds use debug app icon","description":"Use the debug icon variant from Icon Composer for debug builds (and the normal icon for release builds). If the debug icon is a hidden layer in the .icon document, handle selecting it at build time (e.g., by using a separate .icon document or by generating a temporary document).","notes":"Packaging supports debug vs release icon selection: if Assets/AppIcon-Debug.icon exists, debug builds use it; otherwise, if Assets/AppIcon.icon/icon.json contains a layer whose name or image-name includes 'Debug', the build copies the .icon doc into build output and flips layer visibility for debug builds.","status":"in_progress","priority":3,"issue_type":"task","created_at":"2025-12-25T13:35:36.489078-05:00","updated_at":"2025-12-25T13:44:58.4913-05:00"}
{"id":"FolderBar-0ui","title":"Per-folder SF Symbol icon selection","description":"Allow users to select per-folder SF Symbol icons.\n\nScope:\n- Add symbolName to FolderConfig and persist it.\n- Provide a simple icon picker (text field, preview, curated list of symbols).\n- Update the status item icon immediately and persist across restarts.","acceptance_criteria":"- Changing the symbol updates the status icon immediately.\n- The selected symbol persists across relaunch.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-20T23:44:40.419248-05:00","updated_at":"2025-12-24T23:31:55.299767-05:00","closed_at":"2025-12-24T23:31:55.299767-05:00","close_reason":"Added Settings \u003e Menu Bar Icon SF Symbol picker (text field + suggestions), persisted via UserDefaults, and applied immediately to the status item; reset-all restores default.","dependencies":[{"issue_id":"FolderBar-0ui","depends_on_id":"FolderBar-irs","type":"blocks","created_at":"2025-12-20T23:44:55.469574-05:00","created_by":"daemon"}]}
{"id":"FolderBar-0zr","title":"Add compile_and_run.sh dev loop","description":"Add Scripts/compile_and_run.sh that builds, packages, kills any running FolderBar instance, and opens the .app bundle. Include README/Makefile note for dev loop usage.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T00:06:12.951107-05:00","updated_at":"2025-12-21T00:08:14.34829-05:00","closed_at":"2025-12-21T00:08:14.34829-05:00","close_reason":"Completed"}
{"id":"FolderBar-1mi","title":"Settings panel for folder + about + reset","description":"Add a Settings window to edit the selected folder, show app version, and reset all settings.","acceptance_criteria":"Settings window opens from UI, shows selected folder + version, provides change folder and reset all settings actions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T23:12:19.688425-05:00","updated_at":"2025-12-23T23:12:30.309231-05:00","closed_at":"2025-12-23T23:12:30.309231-05:00","close_reason":"Added Settings window with folder picker, version display, and reset-all action. Reflection: kept settings as a normal NSWindow so the open panel can present as a sheet without popover window-level issues."}
{"id":"FolderBar-2pd","title":"Sparkle update fails due to App Management permission","description":"On macOS Ventura+, Sparkle update can abort with a Privacy \u0026 Security 'prevented from modifying apps' (TCC SystemPolicyAppBundles/App Management) denial, causing a generic 'Update Error'. Detect SUInstallationWriteNoPermissionError and show clear instructions (open Privacy \u0026 Security → App Management). Also harden packaging to prevent ad-hoc 'release' builds.","acceptance_criteria":"When App Management blocks install, Settings shows actionable message + button to open Privacy \u0026 Security. Release packaging refuses to build if release config is ad-hoc or unsigned.","notes":"- Added Sparkle error handling (didAbortWithError + formatted NSError) and detection for SUInstallationWriteNoPermissionError (App Management write denied)\\n- Settings UI now shows actionable App Management guidance + button to open Privacy \u0026 Security when detected\\n- Hardened Scripts/package_app.sh: release builds require SIGNING_IDENTITY and SIGN_ADHOC=0 to avoid ad-hoc Team ID mismatch issues","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-24T21:42:38.514988-05:00","updated_at":"2025-12-24T21:44:10.191085-05:00","closed_at":"2025-12-24T21:44:10.191085-05:00","close_reason":"Completed"}
{"id":"FolderBar-2vg","title":"Manual QA checklist doc","description":"Document the manual QA checklist for core behaviors.\n\nScope:\n- Add a QA checklist doc with the drag-and-drop matrix (Safari/Chrome GitHub PR, Slack, Finder).\n- Include multi-folder persistence checks and folder permission failure handling.\n- Keep the checklist easy to update as features ship.","acceptance_criteria":"- QA checklist doc exists and covers drag-and-drop, multi-folder persistence, and permission errors.","notes":"- Added QA_CHECKLIST.md covering panel behavior, drag-and-drop matrix, sorting, permissions/failure scenarios, and multi-folder checks.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-20T23:44:41.142938-05:00","updated_at":"2025-12-24T13:23:35.926639-05:00","closed_at":"2025-12-24T13:23:35.926639-05:00","close_reason":"Completed"}
{"id":"FolderBar-355","title":"Drag-and-drop out of popover (Finder-like)","description":"Make drag-and-drop out of the popover behave like Finder.\n\nScope:\n- Implement SwiftUI onDrag for each row using NSItemProvider with file URLs (UTType.fileURL).\n- Add a secondary representation if needed (plain-text path) for app compatibility.\n- Set NSPopover.behavior to applicationDefined or semitransient and manage dismissal explicitly.\n- Verify drag works to browsers, Slack/Messages, and Finder without cancellation.","acceptance_criteria":"- Dragging an item from the popover works in Safari/Chrome GitHub PRs, Slack, and Finder.\n- Dragging a folder also works.\n- Drag does not cancel mid-gesture due to popover dismissal.","status":"closed","issue_type":"task","created_at":"2025-12-20T23:44:39.422789-05:00","updated_at":"2025-12-21T19:15:04.383563-05:00","closed_at":"2025-12-21T19:15:04.383563-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-355","depends_on_id":"FolderBar-dbz","type":"blocks","created_at":"2025-12-20T23:44:53.756954-05:00","created_by":"daemon"}]}
{"id":"FolderBar-35k","title":"Restructure SwiftPM package for core library + app target","description":"Update Package.swift to add FolderBarCore library target, FolderBar executable target, and FolderBarTests test target; move sources into  and  following SwiftPM conventions.","acceptance_criteria":"Package.swift defines core library + app executable + tests; sources moved into new target folders; Building for debugging...\n[0/6] Write sources\n[1/6] Write FolderBar-entitlement.plist\n[2/6] Write swift-version--58304C5D6DBC2206.txt\n[4/8] Compiling FolderBar main.swift\n[5/8] Emitting module FolderBar\n[5/8] Write Objects.LinkFileList\n[6/8] Linking FolderBar\n[7/8] Applying FolderBar\nBuild complete! (0.90s) succeeds.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:54:08.275658-05:00","updated_at":"2025-12-20T18:00:00.642763-05:00","closed_at":"2025-12-20T18:00:00.642763-05:00","close_reason":"Completed"}
{"id":"FolderBar-3r6","title":"Fix app icon asset (use properly composed icon)","description":"Current app icon looks like a raw/uncomposed image. Replace the source icon with a properly composed/cropped macOS app icon (as produced by an app icon builder), regenerate .icns as needed, and ensure Dock/Finder/App Switcher show the polished icon in debug and release builds.","notes":"Updated packaging to compile a macOS asset catalog with actool, bundling Assets.car + AppIcon.icns and setting CFBundleIconName/CFBundleIconFile to AppIcon so Dock/Finder can use the asset catalog icon.","status":"in_progress","priority":3,"issue_type":"task","created_at":"2025-12-24T23:45:42.051919-05:00","updated_at":"2025-12-25T13:00:16.646743-05:00"}
{"id":"FolderBar-3vw","title":"Dynamic panel height based on item count","description":"Set the scroll area height based on item count to hint scrollability.\\n\\nScope:\\n- Compute item row height and set list area height to itemHeight * (n + 0.5).\\n- Clamp to reasonable min/max (e.g., 3.5 rows min, 10.5 rows max).\\n- Ensure panel resizes smoothly when item count changes.\\n\\nAcceptance Criteria:\\n- List shows ~half row at bottom to indicate more content.\\n- Panel height adjusts with item count within min/max bounds.\\n- Scrolling still works and no layout jumps.","notes":"- Added PanelLayout constants to control panel sizing.\n- Set visible row count to 5.5 via list height (rowHeight * 5.5) and matched panel height to header + list + footer.\n- Scroll area now shows half row to hint scrollability.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-22T01:25:25.576055-05:00","updated_at":"2025-12-22T02:29:58.033248-05:00","closed_at":"2025-12-22T02:29:58.033248-05:00","close_reason":"Completed"}
{"id":"FolderBar-4c6","title":"Add local plans folder to .gitignore","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-20T23:27:50.688527-05:00","updated_at":"2025-12-20T23:27:55.773022-05:00","closed_at":"2025-12-20T23:27:55.773022-05:00","close_reason":"Completed"}
{"id":"FolderBar-4ck","title":"Improve icon picker performance and centering","description":"Icon picker sheet: center glyphs in cells; improve scroll/filter performance (debounced background filtering, avoid per-render filtering, reduce cell overhead).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T23:47:23.630335-05:00","updated_at":"2025-12-24T23:49:44.517121-05:00","closed_at":"2025-12-24T23:49:44.517121-05:00","close_reason":"Centered glyphs in icon cells; improved scroll/filter perf by caching displayed list, debouncing background filtering, removing tooltips, and using fixed grid columns."}
{"id":"FolderBar-4vc","title":"Local dev code signing","description":"Sign the packaged app for local development to reduce permission prompts.\n\nScope:\n- Add optional signing to Scripts/package_app.sh (or a wrapper) using a configured identity.\n- Support ad-hoc signing fallback if no identity is configured.\n- Document how to set the signing identity (env var or config file).\n\nAcceptance Criteria:\n- Packaged app is signed for local runs when identity is provided.\n- No extra permission prompts when launching the signed app locally.\n- Build still succeeds without a signing identity.","notes":"- Added optional codesign step in Scripts/package_app.sh.\n- Default behavior is ad-hoc signing when SIGNING_IDENTITY is unset; can skip with SIGN_ADHOC=0.\n- README documents how to list identities and set SIGNING_IDENTITY.\n- For stable TCC prompts, set SIGNING_IDENTITY to a persistent signing identity (Apple Development or Developer ID).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T19:45:04.30417-05:00","updated_at":"2025-12-21T19:47:39.776491-05:00","closed_at":"2025-12-21T19:47:39.776491-05:00","close_reason":"Completed"}
{"id":"FolderBar-67w","title":"Settings: Start at Login toggle","description":"Add a Settings option to automatically register/unregister FolderBar to launch at user login.","design":"Use ServiceManagement (SMAppService / SMLoginItemSetEnabled depending on deployment target) with a small wrapper for testability; persist user intent and reconcile with system state.","acceptance_criteria":"- Settings UI includes a toggle labeled \"Start at login\" (or similar)\n- Toggling on registers app to launch at login; toggling off unregisters\n- Toggle reflects current registration state on app launch\n- Errors (e.g., denied/unsupported) are surfaced to the user","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-25T15:48:34.979309-05:00","updated_at":"2025-12-25T15:49:02.046766-05:00","labels":["macOS","settings","startup"]}
{"id":"FolderBar-6do","title":"Implement AppKit menubar UI for single folder","description":"Add AppDelegate and main entry for FolderBar app target: create NSStatusItem + NSMenu, refresh from FolderScanner, open files, watch folder with DirectoryWatcher.","acceptance_criteria":"Menu bar icon shows folder contents sorted by creation date; opening menu refreshes; items open in Finder; has Quit and Open Folder actions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:54:24.143483-05:00","updated_at":"2025-12-20T23:45:05.582985-05:00","closed_at":"2025-12-20T23:45:05.582985-05:00","close_reason":"Superseded by FolderBar-r0j (menu bar shell) and FolderBar-dbz (render folder contents)","dependencies":[{"issue_id":"FolderBar-6do","depends_on_id":"FolderBar-35k","type":"blocks","created_at":"2025-12-20T17:55:07.125616-05:00","created_by":"daemon"},{"issue_id":"FolderBar-6do","depends_on_id":"FolderBar-bx1","type":"blocks","created_at":"2025-12-20T17:55:15.853966-05:00","created_by":"daemon"},{"issue_id":"FolderBar-6do","depends_on_id":"FolderBar-xy6","type":"blocks","created_at":"2025-12-20T17:55:19.9124-05:00","created_by":"daemon"}]}
{"id":"FolderBar-6ee","title":"Move icon picker to separate view","description":"Settings window icon picker should not clutter Settings. Move to a sheet/popover/window with a scrollable grid. Load all SF Symbols from system (CoreGlyphs symbol_order.plist) instead of curated list. Keep Settings padding comfortable.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T23:41:20.821044-05:00","updated_at":"2025-12-24T23:44:48.707713-05:00","closed_at":"2025-12-24T23:44:48.707713-05:00","close_reason":"Moved icon picker out of Settings into a sheet (IconPickerView). Loaded SF Symbols from CoreGlyphs symbol_order.plist for an all-icons grid with search + scroll. Restored Settings padding."}
{"id":"FolderBar-6f1","title":"Show Dock icon while Settings window is open","description":"When Settings window is shown, app should temporarily use activationPolicy(.regular) so a Dock icon appears (similar to folder picker behavior). Restore .accessory when Settings closes.","notes":"Settings window now temporarily switches activationPolicy(.regular) while open (via NSWindowDelegate windowWillClose restore).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T23:45:14.724981-05:00","updated_at":"2025-12-25T01:20:54.063044-05:00","closed_at":"2025-12-25T01:20:54.063044-05:00","close_reason":"Completed"}
{"id":"FolderBar-73t","title":"Improve menu bar icon picker UI","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T23:33:53.268083-05:00","updated_at":"2025-12-24T23:36:18.495698-05:00","closed_at":"2025-12-24T23:36:18.495698-05:00","close_reason":"Replaced text input/menu with a visual grid picker showing icon previews; expanded curated icon options; added reset and adjusted Settings window size."}
{"id":"FolderBar-78u","title":"Icon picker: smooth scrolling + stable loading layout","description":"Improve icon picker performance (7k+ symbols) and eliminate loading-layout shift. Use AppKit collection view for real cell reuse, keep selection behavior, and reserve grid area during loading so controls don't jump.","notes":"Changes:\n- Added AppKit-backed IconPickerCollectionView (NSCollectionView + diffable data source) for smoother scrolling with ~7k SF Symbols.\n- Added IconPickerModel.displayedSymbolNamesRevision to apply snapshots only on list changes.\n- IconPickerView uses a fixed-size grid region with a loading placeholder to prevent header/filter layout jumping.\n- Refactored icon picker body into IconPickerBody and centralized padding/spacing constants.\n- Added QA sign-off gate to AGENTS.md (no beads/commit/push until explicit QA when requested).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T23:17:10.53178-05:00","updated_at":"2025-12-25T23:17:19.846308-05:00","closed_at":"2025-12-25T23:17:19.846308-05:00","close_reason":"Completed"}
{"id":"FolderBar-81m","title":"Sparkle auto-update (MVP)","description":"Add Sparkle-based self-update system (silent checks + in-app indicator + GitHub Releases/appcast). See plans/SPARKLE_AUTO_UPDATE_PLAN.md for working notes.","acceptance_criteria":"All child tasks complete; release artifacts publish to GitHub Releases; app silently detects updates and user can install via Settings.","notes":"MVP Sparkle auto-update delivered:\\n- Sparkle 2 integrated with silent probes + user-initiated update\\n- Panel shows 'Update available' and routes to Settings\\n- Settings includes Updates section + Update… button\\n- appcast.xml template + key docs added\\n- Packaging embeds/sings Sparkle.framework; release.sh publishes GitHub release and updates appcast\\n- QA checklist includes update scenarios","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-24T12:32:33.146965-05:00","updated_at":"2025-12-24T13:24:11.58996-05:00","closed_at":"2025-12-24T13:24:11.58996-05:00","close_reason":"Completed"}
{"id":"FolderBar-81m.1","title":"Integrate Sparkle 2 + updater wrapper + silent probe scheduling","description":"Add Sparkle via SwiftPM and introduce an app-owned updater wrapper that supports silent probes (no UI) and user-initiated updates. Schedule probe checks from app lifecycle with UserDefaults gating.","acceptance_criteria":"Build succeeds with Sparkle dependency; updater can start, probe via checkForUpdateInformation(), and expose state (update available/version/last checked/error). App performs a silent probe on launch (delayed) and respects a minimum probe interval persisted in UserDefaults.","notes":"- Added Sparkle 2.8.1 via SwiftPM (Package.swift)\\n- Added Sources/FolderBar/Updater/FolderBarUpdater.swift (SPUStandardUpdaterController wrapper)\\n- AppDelegate starts updater + schedules silent probes (delayed launch probe + UserDefaults-gated intervals)\\n- Updater stays disabled unless running from a .app bundle and SUFeedURL is non-empty","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T12:32:44.20635-05:00","updated_at":"2025-12-24T12:52:17.111331-05:00","closed_at":"2025-12-24T12:52:17.111331-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-81m.1","depends_on_id":"FolderBar-81m","type":"parent-child","created_at":"2025-12-24T12:32:44.210253-05:00","created_by":"daemon"}]}
{"id":"FolderBar-81m.2","title":"UI: Update available indicator + Settings Updates section","description":"Thread FolderBarUpdater through panel + settings. Show 'Update available' in panel footer that opens Settings. Add Settings \u003e Updates section with status text and an Update button that triggers Sparkle's standard UI.","acceptance_criteria":"When an update is available, panel shows 'Update available' affordance; clicking opens Settings. Settings shows update status/last checked. 'Update' button invokes user-initiated Sparkle update flow.","notes":"- Threaded FolderBarUpdater into FolderPanelView + footer\\n- Panel footer shows 'Update available' button when updater reports a valid update; clicking opens Settings\\n- SettingsView adds Updates section with status/last checked/last error and an 'Update…' button that calls updater.userInitiatedUpdate()\\n- SettingsWindowController now accepts the shared updater instance","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T12:32:49.544473-05:00","updated_at":"2025-12-24T13:01:05.993229-05:00","closed_at":"2025-12-24T13:01:05.993229-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-81m.2","depends_on_id":"FolderBar-81m","type":"parent-child","created_at":"2025-12-24T12:32:49.547603-05:00","created_by":"daemon"},{"issue_id":"FolderBar-81m.2","depends_on_id":"FolderBar-81m.1","type":"blocks","created_at":"2025-12-24T12:32:49.548593-05:00","created_by":"daemon"}]}
{"id":"FolderBar-81m.3","title":"Add appcast.xml template + Sparkle key management docs","description":"Add repo-root appcast.xml template hosted from main and document generating/storing Sparkle Ed25519 keys (public key in Info.plist; private key never committed, stored via .env.local path or CI secret).","acceptance_criteria":"appcast.xml exists at repo root and validates as Sparkle feed; docs exist describing key generation and required env vars; no private keys are committed.","notes":"- Added repo-root appcast template at appcast.xml (hosted via raw.githubusercontent.com on main)\\n- Documented Sparkle Ed25519 key generation + env vars in README.md (SPARKLE_PUBLIC_ED_KEY, SPARKLE_FEED_URL, SPARKLE_ED_PRIVATE_KEY_FILE)\\n- No private keys committed; intended to store private key path in .env.local or CI secrets","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T12:32:55.201295-05:00","updated_at":"2025-12-24T12:58:11.951909-05:00","closed_at":"2025-12-24T12:58:11.951909-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-81m.3","depends_on_id":"FolderBar-81m","type":"parent-child","created_at":"2025-12-24T12:32:55.204103-05:00","created_by":"daemon"}]}
{"id":"FolderBar-81m.4","title":"Packaging: Embed Sparkle.framework + Info.plist keys + signing order","description":"Update Scripts/package_app.sh to bundle Sparkle.framework into Contents/Frameworks, add required rpath, write Sparkle Info.plist keys (SUFeedURL, SUPublicEDKey, SUEnableAutomaticChecks=NO), and sign Sparkle nested components correctly for Developer ID builds.","acceptance_criteria":"Packaged FolderBar.app launches with Sparkle.framework embedded. Release signing passes codesign verification (no missing/unsigned nested Sparkle components). Info.plist contains correct Sparkle keys for release builds (and safe behavior for debug).","notes":"- package_app.sh now requires Sparkle.framework to be present (fail fast if missing)\\n- Release builds default SUFeedURL to raw GitHub appcast URL and require SPARKLE_PUBLIC_ED_KEY to be set\\n- Verified release-mode packaging signs and passes codesign --verify --deep --strict; Info.plist contains SUFeedURL/SUPublicEDKey/SUEnableAutomaticChecks","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T12:33:01.456215-05:00","updated_at":"2025-12-24T13:07:03.818289-05:00","closed_at":"2025-12-24T13:07:03.818289-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-81m.4","depends_on_id":"FolderBar-81m","type":"parent-child","created_at":"2025-12-24T12:33:01.458724-05:00","created_by":"daemon"},{"issue_id":"FolderBar-81m.4","depends_on_id":"FolderBar-81m.1","type":"blocks","created_at":"2025-12-24T12:33:01.45998-05:00","created_by":"daemon"}]}
{"id":"FolderBar-81m.5","title":"Release automation: GitHub Release + sign_update + appcast.xml update","description":"Extend Scripts/release.sh to tag v\u003cVERSION\u003e, publish GitHub Release assets (ZIP+DMG) via gh, sign the ZIP payload using Sparkle sign_update (Ed25519), and update/commit/push appcast.xml with a new \u003citem\u003e.","acceptance_criteria":"Running Scripts/release.sh produces signed/notarized artifacts, creates/updates tag, creates GitHub Release with assets, and updates appcast.xml with correct enclosure URL/length/edSignature. appcast.xml commit is pushed to main.","notes":"- Added Scripts/update_appcast.py to insert newest Sparkle \u003citem\u003e into appcast.xml\\n- Extended Scripts/release.sh to: validate clean/up-to-date main, tag v\u003cVERSION\u003e, publish GitHub release via gh, sign ZIP with sign_update (Ed25519), update+commit+push appcast.xml\\n- Added safety flags: SKIP_PUBLISH=1 for build-only; FORCE_TAG=1 / FORCE_RELEASE=1 to overwrite existing tag/release assets","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T12:33:08.234059-05:00","updated_at":"2025-12-24T13:16:45.90923-05:00","closed_at":"2025-12-24T13:16:45.90923-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-81m.5","depends_on_id":"FolderBar-81m","type":"parent-child","created_at":"2025-12-24T12:33:08.23655-05:00","created_by":"daemon"},{"issue_id":"FolderBar-81m.5","depends_on_id":"FolderBar-81m.3","type":"blocks","created_at":"2025-12-24T12:33:08.238183-05:00","created_by":"daemon"},{"issue_id":"FolderBar-81m.5","depends_on_id":"FolderBar-81m.4","type":"blocks","created_at":"2025-12-24T12:33:08.239074-05:00","created_by":"daemon"}]}
{"id":"FolderBar-81m.7","title":"Docs: Add Sparkle update scenarios to QA checklist","description":"Extend the manual QA checklist to include Sparkle update end-to-end scenarios (old version detects update, routes to Settings, Update installs new version).","acceptance_criteria":"QA doc includes a concise Sparkle update validation checklist that can be run before cutting a release.","notes":"- Extended manual QA checklist (QA_CHECKLIST.md) with Sparkle update scenarios (indicator → Settings → Update… → relaunch) and negative cases.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T12:33:19.304657-05:00","updated_at":"2025-12-24T13:23:36.351634-05:00","closed_at":"2025-12-24T13:23:36.351634-05:00","close_reason":"Completed","labels":["docs"],"dependencies":[{"issue_id":"FolderBar-81m.7","depends_on_id":"FolderBar-81m","type":"parent-child","created_at":"2025-12-24T12:33:19.307152-05:00","created_by":"daemon"},{"issue_id":"FolderBar-81m.7","depends_on_id":"FolderBar-2vg","type":"blocks","created_at":"2025-12-24T12:33:19.308345-05:00","created_by":"daemon"}]}
{"id":"FolderBar-8bp","title":"Release pipeline (signing + notarization)","description":"Create a direct-download release pipeline (signed and notarized).\n\nScope:\n- Add version.env and read version info in package_app.sh.\n- Add Scripts/notarize.sh and Scripts/release.sh to codesign, zip, notarize, and staple.\n- Produce FolderBar-x.y.z.zip for GitHub Releases.\n\nNote:\n- Local dev signing is tracked separately in FolderBar-4vc.","acceptance_criteria":"- Release scripts produce a signed, notarized zip artifact.\n- Downloaded app opens without warnings after notarization.","notes":"- Added version.env and release scripts; package_app.sh sources .env/.env.local and version.env.\n- Added Scripts/notarize.sh (API key) and Scripts/release.sh (sign, notarize, staple, zip).\n- Release uses RELEASE_SIGNING_IDENTITY, NOTARY_KEY_ID/ISSUER_ID/PATH from .env.\n- Verified release.sh: notarization accepted and stapled; produced build/FolderBar-0.1.0.zip.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-20T23:44:40.640567-05:00","updated_at":"2025-12-22T09:23:52.20734-05:00","closed_at":"2025-12-22T09:23:52.20734-05:00","close_reason":"Completed"}
{"id":"FolderBar-8yc","title":"Add package_app.sh + Makefile dev loop","description":"Create Scripts/package_app.sh to build and assemble FolderBar.app with Info.plist (LSUIElement). Add Makefile target to build/package/open app.","acceptance_criteria":"Scripts/package_app.sh produces FolderBar.app; Makefile target builds, packages, and opens app for debug.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:54:28.196396-05:00","updated_at":"2025-12-20T22:42:48.795008-05:00","closed_at":"2025-12-20T22:42:48.795008-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-8yc","depends_on_id":"FolderBar-35k","type":"blocks","created_at":"2025-12-20T17:55:22.800429-05:00","created_by":"daemon"}]}
{"id":"FolderBar-9zg","title":"package_app.sh does not rebuild before packaging","description":"package_app.sh only calls 'swift build --show-bin-path', which can return stale binaries. compile_and_run.sh can launch outdated app. Investigate and ensure build occurs before packaging.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-21T01:29:10.26429-05:00","updated_at":"2025-12-21T01:32:47.790908-05:00","closed_at":"2025-12-21T01:32:47.790908-05:00","close_reason":"Completed"}
{"id":"FolderBar-9zi","title":"Core unit tests (scanner, config, date formatting)","description":"Add core unit tests for scanning, config, and date formatting.\n\nScope:\n- FolderScanner tests using a temp directory to verify creation-date sorting.\n- AppConfigStore load/save tests with atomic write behavior.\n- DateFormatting helper tests for relative dates or consistent display formatting.\n- Optional DirectoryWatcher integration tests guarded by an env flag to avoid CI flakiness.","acceptance_criteria":"- swift test passes with new tests.\n- Tests are isolated and use temp directories.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T23:44:40.920108-05:00","updated_at":"2025-12-20T23:44:40.920108-05:00","dependencies":[{"issue_id":"FolderBar-9zi","depends_on_id":"FolderBar-zlo","type":"blocks","created_at":"2025-12-20T23:44:55.667818-05:00","created_by":"daemon"},{"issue_id":"FolderBar-9zi","depends_on_id":"FolderBar-irs","type":"blocks","created_at":"2025-12-20T23:44:55.930992-05:00","created_by":"daemon"}]}
{"id":"FolderBar-a5x","title":"Split app target into FolderBarApp + add IconPickerModel seams/tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T01:02:14.937337-05:00","updated_at":"2025-12-25T01:08:39.69177-05:00","closed_at":"2025-12-25T01:08:39.69177-05:00","close_reason":"Completed: split FolderBarApp target; added IconPickerModel seams + tests"}
{"id":"FolderBar-all","title":"Auto-load local signing identity","description":"Make compile_and_run/package_app auto-load a local signing identity so signing works out of the box.\n\nScope:\n- Support a local .env (or .env.local) for SIGNING_IDENTITY and SIGN_ADHOC.\n- Ensure the env file is gitignored and documented.\n- compile_and_run.sh should source the env file and pass through to package_app.sh.\n\nAcceptance Criteria:\n- User can set SIGNING_IDENTITY once in a local env file and compile_and_run uses it automatically.\n- The env file is ignored by git and documented.\n- Build works when env file is absent (fallback to ad-hoc signing).","notes":"- Added .env.local support to package_app.sh and compile_and_run.sh for local signing identity.\n- .env.local and .env are gitignored.\n- README documents .env.local usage for SIGNING_IDENTITY/SIGN_ADHOC.\n- Added .env.local with James Kraus Apple Development identity (local only).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T19:50:22.653005-05:00","updated_at":"2025-12-21T19:51:41.154888-05:00","closed_at":"2025-12-21T19:51:41.154888-05:00","close_reason":"Completed"}
{"id":"FolderBar-bec","title":"Prevent multiple Change Folder dialogs","description":"Only allow a single Change Folder dialog at a time.\\n\\nScope:\\n- Track whether an NSOpenPanel is already open.\\n- Ignore or disable Change Folder actions while the dialog is visible.\\n\\nAcceptance Criteria:\\n- Repeated clicks do not open multiple dialogs.\\n- UI remains responsive after the dialog is closed.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-22T01:35:19.180854-05:00","updated_at":"2025-12-23T23:57:33.120036-05:00","closed_at":"2025-12-23T23:57:33.120036-05:00","close_reason":"Gate NSOpenPanel with isFolderPickerPresented; disable Change button; fix trailing-closure swiftlint"}
{"id":"FolderBar-bx1","title":"Implement FolderScanner + FolderChildItem model","description":"Add FolderScanner.swift to FolderBarCore with FolderChildItem model; scan immediate children, skip hidden items, sort by creation date descending.","acceptance_criteria":"FolderScanner.scan(folderURL:) returns immediate children sorted by creation date; hidden files skipped; FolderChildItem provides url/name/isDirectory/creationDate.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:54:15.703781-05:00","updated_at":"2025-12-20T23:45:05.171299-05:00","closed_at":"2025-12-20T23:45:05.171299-05:00","close_reason":"Superseded by FolderBar-zlo (core models + FolderScanner)","dependencies":[{"issue_id":"FolderBar-bx1","depends_on_id":"FolderBar-35k","type":"blocks","created_at":"2025-12-20T17:54:58.624682-05:00","created_by":"daemon"}]}
{"id":"FolderBar-c71","title":"Change Folder dialog should be frontmost","description":"Ensure the Change Folder NSOpenPanel appears above the popover and is frontmost.\\n\\nScope:\\n- Present the NSOpenPanel as a sheet or ensure it is ordered front.\\n- Avoid the panel appearing behind the popover window.\\n\\nAcceptance Criteria:\\n- Change Folder dialog always appears on top and is immediately interactive.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-22T01:35:16.416708-05:00","updated_at":"2025-12-23T23:06:12.343458-05:00","closed_at":"2025-12-23T23:06:12.343458-05:00","close_reason":"Switched folder chooser flow to close popover first, open NSOpenPanel app-modally on next run loop, and reopen after; also avoid swallowing Escape when a modal is active. Reflection: popover window level was interfering with panel interaction, so app-modal + popover close is the most reliable pattern."}
{"id":"FolderBar-cnh","title":"DirectoryWatcher + auto-refresh with debounce","description":"Add low-overhead directory watching and automatic refresh.\n\nScope:\n- Implement DirectoryWatcher using DispatchSourceFileSystemObject with O_EVTONLY.\n- Watch .write, .rename, .delete events and debounce (around 200ms).\n- Wire watcher to rescan and update the UI on @MainActor.\n- Handle errors or missing permissions with a visible error state and a Change Folder action.\n- Ensure clean teardown (cancel source, close fd).","acceptance_criteria":"- Creating/removing/renaming files updates the list within ~0.5s.\n- No polling loop is used.\n- CPU stays idle when no changes occur.\n- Watcher resources are cleaned up on stop/deinit.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T23:44:39.655432-05:00","updated_at":"2025-12-21T19:21:41.695981-05:00","closed_at":"2025-12-21T19:21:41.695981-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-cnh","depends_on_id":"FolderBar-zlo","type":"blocks","created_at":"2025-12-20T23:44:54.031124-05:00","created_by":"daemon"},{"issue_id":"FolderBar-cnh","depends_on_id":"FolderBar-dbz","type":"blocks","created_at":"2025-12-20T23:44:54.225376-05:00","created_by":"daemon"}]}
{"id":"FolderBar-dbz","title":"Render folder contents in popover + initial folder selection","description":"Render real folder contents in the popover UI and handle initial folder choice.\n\nScope:\n- Show a null-state view when no folder is selected, with a Choose Folder button (no auto prompt).\n- Persist the selected folder to UserDefaults.\n- Use FolderScanner to load items and show them in a list with file icons and names.\n- Refresh the list when the popover opens (manual refresh).\n- If the folder is missing/unavailable, reset to the null state.\n- Hovering rows shows a drag-style cursor.\n- Clicking items does nothing for now.","acceptance_criteria":"- Popover shows null state with Choose Folder when no selection.\n- Choosing a folder persists and lists items sorted by creation date with icons and names (includes folders).\n- Opening the popover refreshes the list.\n- Missing/unavailable folder returns to the null state.\n- Hovering rows shows a drag cursor.\n- Clicking items has no effect.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T23:44:39.183901-05:00","updated_at":"2025-12-21T19:10:53.967004-05:00","closed_at":"2025-12-21T19:10:53.967004-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-dbz","depends_on_id":"FolderBar-r0j","type":"blocks","created_at":"2025-12-20T23:44:53.2899-05:00","created_by":"daemon"},{"issue_id":"FolderBar-dbz","depends_on_id":"FolderBar-zlo","type":"blocks","created_at":"2025-12-20T23:44:53.499405-05:00","created_by":"daemon"},{"issue_id":"FolderBar-dbz","depends_on_id":"FolderBar-en3","type":"blocks","created_at":"2025-12-21T18:46:58.75205-05:00","created_by":"daemon"}]}
{"id":"FolderBar-en3","title":"Null state UI for no folder selected","description":"Provide a clear null state when no folder is selected.\n\nScope:\n- When no selected folder is stored, popover shows a null state message and a 'Choose Folder' button.\n- Button opens NSOpenPanel to pick a folder.\n- Once chosen, persist to UserDefaults and refresh the list.\n\nAcceptance Criteria:\n- If user cancels initial folder picker, popover shows null state with button.\n- Selecting a folder from the null state updates the UI and persists selection.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T18:46:56.478824-05:00","updated_at":"2025-12-21T18:53:57.486915-05:00","closed_at":"2025-12-21T18:53:57.486915-05:00","close_reason":"Completed"}
{"id":"FolderBar-f3z","title":"Panel chrome cleanup (padding, separators, scroll reset)","description":"Polish the popover chrome and list behavior.\\n\\nScope:\\n- Reduce excess top padding in the panel header area.\\n- Add separators above and below the scroll list.\\n- Ensure the list scrolls to the top whenever the panel opens.\\n\\nAcceptance Criteria:\\n- Header spacing feels tight (no large empty gap).\\n- List has a clear top and bottom divider.\\n- Reopening the panel always shows the list at the top.","notes":"- Tightened top padding and reduced header spacing.\n- Removed horizontal padding around list so separators span full width.\n- Added top/bottom list dividers flush with scroll area.\n- List now scrolls to top on panel open via scroll token.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-21T19:56:06.251932-05:00","updated_at":"2025-12-22T01:25:36.751316-05:00","closed_at":"2025-12-22T01:25:30.537267-05:00","close_reason":"Completed"}
{"id":"FolderBar-f6z","title":"Add pre-push hook to run SwiftLint","description":"Add a repository-managed pre-push hook that runs SwiftLint (or the project's lint command) to prevent pushing broken/lint-failing code. Prefer an install script (e.g. Scripts/install_git_hooks.sh) that configures .git/hooks/pre-push to call a repo script, since .git/hooks isn't tracked. Keep it fast and skippable when needed.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T23:46:00.915715-05:00","updated_at":"2025-12-25T01:23:34.165893-05:00","closed_at":"2025-12-25T01:23:34.165893-05:00","close_reason":"Implemented repo-managed pre-push SwiftLint hook + installer script; documented in README"}
{"id":"FolderBar-gco","title":"Icon picker shows empty after initial load","description":"Icon picker briefly shows symbols, then flips to 'No symbols available'. Likely caused by debounced filter task scheduled before symbols finish loading, overwriting displayed list with empty snapshot.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-25T00:07:06.674551-05:00","updated_at":"2025-12-25T00:07:28.355237-05:00","closed_at":"2025-12-25T00:07:28.355237-05:00","close_reason":"Prevented debounced filter task from running against empty pre-load snapshots by canceling tasks on load and bailing if still loading; ensures empty filter shows full symbol list."}
{"id":"FolderBar-geh","title":"Icon picker scrolling performance: cache resolved symbol name","description":"Icon picker sheet scrolls sluggishly with ~7.4k SF Symbols. Reduce per-cell expensive work (NSImage system symbol validation) and avoid repeated lookups while scrolling.","acceptance_criteria":"Scrolling is noticeably smoother; no behavior regression; invalid stored symbol still falls back to default.","notes":"Oracle review flagged per-cell calls to StatusItemIconSettings.resolvedSymbolName (which called NSImage(systemSymbolName:)). Implemented cached resolvedSymbolName/isValidSymbol updated only on symbolName change, and computed selectedSymbolName once per IconPickerView body. Added unit tests for invalid symbol fallback.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-25T22:28:43.770863-05:00","updated_at":"2025-12-25T22:29:02.931004-05:00","closed_at":"2025-12-25T22:29:02.931004-05:00","close_reason":"Completed (cached resolved symbol name to reduce scroll-time work)"}
{"id":"FolderBar-gxh","title":"Icon picker scrolling performance: reduce focus/accessibility overhead","description":"Time Profiler shows heavy time in SwiftUI accessibility merging/focus responder updates while scrolling icon grid. Try simplifying accessibility tree per cell and disabling focus for icon buttons.","notes":"Profiler summary: majority frames in SwiftUICore/SwiftUI/AttributeGraph; top frame AccessibilityProperties.merge(with:), plus focusResponder computation and layer tree work. Added .focusable(false) and accessibilityElement(children:.ignore)+label+selected trait to IconCell.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T22:39:42.810688-05:00","updated_at":"2025-12-25T22:39:49.580762-05:00","closed_at":"2025-12-25T22:39:49.580762-05:00","close_reason":"Completed (disabled focus and simplified accessibility element per icon cell)"}
{"id":"FolderBar-h61","title":"Fix icon picker search crash","description":"Icon picker sheet crashes when typing in the search field (dispatch_assert_queue / MainActor executor mismatch). Refactor filtering so background work doesn't capture MainActor-isolated state.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-24T23:53:51.145031-05:00","updated_at":"2025-12-24T23:58:20.478912-05:00","closed_at":"2025-12-24T23:58:20.478912-05:00","close_reason":"Fixed crash when typing in icon picker search by moving filtering/debounce into a @MainActor IconPickerModel using Task-based background work (avoids dispatch_assert_queue / executor mismatch)."}
{"id":"FolderBar-irs","title":"AppConfigStore + multi-folder status items","description":"Persist folder configuration and support multiple status items.\n\nScope:\n- Implement AppConfigStore to load/save AppConfig JSON in Application Support (atomic writes).\n- Define AppConfig { folders: [FolderConfig] } and persist symbolName if present.\n- Implement FolderManager + FolderInstance to create one status item per folder.\n- Add actions: Add Folder, Remove This Folder, Change Folder.\n- Ensure watcher and UI are reinitialized on config changes.","acceptance_criteria":"- Adding a folder creates a second status item icon.\n- Removing a folder cleans up the icon and watcher.\n- Relaunch restores all configured folders.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T23:44:39.957443-05:00","updated_at":"2025-12-20T23:44:39.957443-05:00","dependencies":[{"issue_id":"FolderBar-irs","depends_on_id":"FolderBar-zlo","type":"blocks","created_at":"2025-12-20T23:44:54.422705-05:00","created_by":"daemon"},{"issue_id":"FolderBar-irs","depends_on_id":"FolderBar-dbz","type":"blocks","created_at":"2025-12-20T23:44:54.619003-05:00","created_by":"daemon"},{"issue_id":"FolderBar-irs","depends_on_id":"FolderBar-cnh","type":"blocks","created_at":"2025-12-20T23:44:54.873551-05:00","created_by":"daemon"}]}
{"id":"FolderBar-j24","title":"Add basic tests for FolderScanner","description":"Add FolderScanner tests that create a temp directory with files and verify sort order + hidden-file filtering.","acceptance_criteria":"FolderBarTests validates scan order and hidden filtering with temp fixtures.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:54:35.160946-05:00","updated_at":"2025-12-20T23:45:05.794727-05:00","closed_at":"2025-12-20T23:45:05.794727-05:00","close_reason":"Superseded by FolderBar-9zi (core unit tests)","dependencies":[{"issue_id":"FolderBar-j24","depends_on_id":"FolderBar-35k","type":"blocks","created_at":"2025-12-20T17:55:29.08484-05:00","created_by":"daemon"},{"issue_id":"FolderBar-j24","depends_on_id":"FolderBar-bx1","type":"blocks","created_at":"2025-12-20T17:55:31.687571-05:00","created_by":"daemon"}]}
{"id":"FolderBar-jn8","title":"Add snapshot tests for SettingsView + IconPickerView","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-25T01:08:52.621404-05:00","updated_at":"2025-12-25T01:08:52.621404-05:00"}
{"id":"FolderBar-ju0","title":"Make install_git_hooks append to existing pre-push hook","description":"Update Scripts/install_git_hooks.sh to append SwiftLint hook invocation to any existing .git/hooks/pre-push (e.g. bd), rather than replacing it.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T01:27:10.313875-05:00","updated_at":"2025-12-25T01:29:40.619207-05:00","closed_at":"2025-12-25T01:29:40.619207-05:00","close_reason":"Installer now appends to existing .git/hooks/pre-push; repo hook is lint-only and resilient to stdin being consumed"}
{"id":"FolderBar-myp","title":"Metadata formatting: date/size","description":"Adjust row metadata formatting to show relative time for items created today and absolute date otherwise; include file size in human-readable units.\\n\\nScope:\\n- Use relative time only if creationDate is today, otherwise use a short date format.\\n- Append file size (KB/MB/GB) after the time/date.\\n- Ensure metadata text remains subtle and compact.\\n\\nAcceptance Criteria:\\n- Today items show relative time; older items show date.\\n- File size is shown in KB/MB/GB where applicable.","notes":"- Added file size to metadata and date formatting: relative if created today, otherwise short date.\n- Relative time shows “A moment ago” for \u003c1m and refreshes on panel open + while panel is visible (timer starts on open, stops on close).\n- Added fileSize to FolderChildItem and FolderScanner.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-21T19:58:17.626932-05:00","updated_at":"2025-12-22T01:50:41.727907-05:00","closed_at":"2025-12-22T01:50:35.669499-05:00","close_reason":"Completed"}
{"id":"FolderBar-p3x","title":"Popover overflow menu (quit + change folder + change icon)","description":"Add an overflow menu at the bottom of the panel for common actions.\n\nScope:\n- Add a \"...\" menu button in the panel footer.\n- Menu items: Change Folder, Change Icon, Quit.\n- Change Folder opens NSOpenPanel and updates the selected folder (persist to UserDefaults).\n- Quit terminates the app.\n- Change Icon is a placeholder until FolderBar-0ui (can be disabled or show \"Coming soon\").\n\nAcceptance Criteria:\n- Footer menu is visible and accessible.\n- Change Folder updates the selection and refreshes the list.\n- Quit exits the app.\n- Change Icon is present but gated if needed.","notes":"- Added bottom-right overflow menu (ellipsis-circle) using standard Menu.\n- Menu actions: Change Folder (opens picker), Change Icon placeholder (disabled), Quit.\n- Footer menu appears in both empty state and list state.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-21T18:41:37.463432-05:00","updated_at":"2025-12-22T01:35:31.900389-05:00","closed_at":"2025-12-22T01:35:31.900389-05:00","close_reason":"Completed"}
{"id":"FolderBar-pmx","title":"WebP thumbnail support","description":"Ensure WebP files render thumbnails in the list.\\n\\nScope:\\n- Verify Quick Look generates thumbnails for .webp.\\n- If needed, add a fallback decoder or use a custom thumbnail provider.\\n- Cache thumbnails alongside other image formats.\\n\\nAcceptance Criteria:\\n- .webp files show image thumbnails in the list.","notes":"- Verified WebP thumbnails render via Quick Look; no extra work needed.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-22T01:39:36.303593-05:00","updated_at":"2025-12-22T02:18:24.682752-05:00","closed_at":"2025-12-22T02:18:18.506789-05:00","close_reason":"Completed"}
{"id":"FolderBar-qiw","title":"Icon picker scrolling performance: replace LazyVGrid with row-based LazyVStack","description":"Scrolling in icon picker remains laggy with ~7.4k items even after caching resolvedSymbolName. Try a SwiftUI-only refactor: row-based virtualization (LazyVStack of fixed 9-column HStacks) to reduce LazyVGrid layout overhead on macOS 11.","notes":"Implemented IconGrid (LazyVStack rows) in Sources/FolderBarApp/IconPickerView.swift; disabled animations on symbol list changes. Built + ran tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T22:33:01.625601-05:00","updated_at":"2025-12-25T22:33:09.112021-05:00","closed_at":"2025-12-25T22:33:09.112021-05:00","close_reason":"Completed (row-based LazyVStack virtualization)"}
{"id":"FolderBar-r0j","title":"Menu bar popover shell (NSStatusItem + NSPopover)","description":"Build the basic menu bar app shell using AppKit + SwiftUI.\n\nScope:\n- Use NSStatusItem with an SF Symbol template icon.\n- Toggle an NSPopover from the status item button.\n- Popover content is a SwiftUI view hosted via NSHostingController with a placeholder list.\n- Set NSPopover.behavior to applicationDefined or semitransient to avoid auto-dismiss during drag.\n- Ensure the app runs as an LSUIElement (no Dock icon) via the packaged Info.plist.\n- Keep UI state on @MainActor and use os.Logger for basic lifecycle logging.","acceptance_criteria":"- Menu bar icon appears after launching the packaged app.\n- Clicking the icon toggles the popover.\n- Popover shows a placeholder list (no real data yet).\n- App does not appear in the Dock or Cmd-Tab switcher.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T23:44:38.347035-05:00","updated_at":"2025-12-21T00:00:41.950382-05:00","closed_at":"2025-12-21T00:00:41.950382-05:00","close_reason":"Completed"}
{"id":"FolderBar-syo","title":"FolderBarCore scanner/model tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T13:13:09.945747-05:00","updated_at":"2025-12-21T13:14:16.640822-05:00","closed_at":"2025-12-21T13:14:16.640822-05:00","close_reason":"Completed"}
{"id":"FolderBar-uj2","title":"Fix popover positioning for SwiftUI content","description":"Popover opens far below status bar; need stable SwiftUI popover anchoring without jump. Investigate NSStatusItem/NSPopover anchoring and match macOS menu bar positioning.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T01:26:49.313448-05:00","updated_at":"2025-12-21T18:08:54.99716-05:00","closed_at":"2025-12-21T18:08:54.99716-05:00","close_reason":"Replaced NSPopover with custom panel anchored to status item"}
{"id":"FolderBar-vmt","title":"Panel UI polish + media thumbnails","description":"Polish the panel UI for media sharing workflows.\n\nScope:\n- Improve row layout (spacing, truncation, relative date).\n- Optionally show file type hints (PNG, MP4, etc.).\n- Generate thumbnails for images/videos asynchronously (Quick Look thumbnail generator preferred).\n- Cache thumbnails in memory and keep UI responsive.\n- Ensure drag uses the actual file URL, not a thumbnail proxy.","acceptance_criteria":"- Smooth scrolling with no UI stalls.\n- Thumbnails load asynchronously.\n- Drag-and-drop still works with thumbnails enabled.","notes":"- Future metadata work split into: FolderBar-8a9 (date + size formatting) and FolderBar-hk2 (video duration in metadata).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-20T23:44:40.186271-05:00","updated_at":"2025-12-21T19:58:22.023089-05:00","closed_at":"2025-12-21T19:41:59.508182-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-vmt","depends_on_id":"FolderBar-dbz","type":"blocks","created_at":"2025-12-20T23:44:55.072682-05:00","created_by":"daemon"},{"issue_id":"FolderBar-vmt","depends_on_id":"FolderBar-355","type":"blocks","created_at":"2025-12-20T23:44:55.269921-05:00","created_by":"daemon"}]}
{"id":"FolderBar-vqt","title":"Video duration in row metadata","description":"Show video duration in row metadata for video files.\\n\\nScope:\\n- Detect video files (UTType.movie or common video extensions).\\n- Extract duration asynchronously (AVAsset) and cache.\\n- Display duration as mm:ss (e.g., 00m12s).\\n- Format metadata like \"6 mins ago  523KB  00m12s\" for videos.\\n\\nAcceptance Criteria:\\n- Video rows show duration; non-video rows do not.\\n- Duration loads asynchronously without blocking UI.\\n- Metadata string formatting matches the spacing and ordering guidance.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-21T19:58:20.423393-05:00","updated_at":"2025-12-21T19:58:20.423393-05:00"}
{"id":"FolderBar-wvj","title":"Icon picker initial load shows no results","description":"Icon picker sheet shows 'No results' on first open until the user types. Should show full symbol grid when filter is empty.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-25T00:05:04.743135-05:00","updated_at":"2025-12-25T00:05:53.228016-05:00","closed_at":"2025-12-25T00:05:53.228016-05:00","close_reason":"Fixed icon picker showing 'No results' on first open by setting displayed list before flipping isLoading=false; also shows 'No symbols available' only when truly empty and filter is empty."}
{"id":"FolderBar-x1h","title":"Folder picker should foreground when opened","description":"Repro:\n1) Click Choose Folder to open NSOpenPanel\n2) Activate another app/window so the picker goes behind\n3) Click Choose Folder again (from panel or Settings)\n\nExpected: existing picker comes to front\nActual: action no-ops due to single-dialog guard; Settings Change button disabled makes it hard to find\n\nFix:\n- Track active NSOpenPanel instance\n- On repeat invocation, activate app + order the existing panel front\n- Keep Settings button enabled (label becomes Show…)\n\nAcceptance:\n- Repeat clicks bring the open panel to the front\n- Settings remains usable to surface the picker","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-24T00:50:11.567503-05:00","updated_at":"2025-12-24T01:35:01.143411-05:00","closed_at":"2025-12-24T01:35:01.143411-05:00","close_reason":"Keep Settings button copy as Change… while still focusing existing picker","comments":[{"id":1,"issue_id":"FolderBar-x1h","author":"jameskraus","text":"Still reproducible; fix activation policy/space behavior","created_at":"2025-12-24T06:25:45Z"},{"id":2,"issue_id":"FolderBar-x1h","author":"jameskraus","text":"Actual fix: re-invoking Choose focuses existing NSOpenPanel","created_at":"2025-12-24T06:32:12Z"},{"id":3,"issue_id":"FolderBar-x1h","author":"jameskraus","text":"Adjust Settings button label back to Change…","created_at":"2025-12-24T06:34:51Z"}]}
{"id":"FolderBar-xy6","title":"Implement DirectoryWatcher (DispatchSource-based)","description":"Add DirectoryWatcher.swift to FolderBarCore using DispatchSourceFileSystemObject with debounce; invoke callback on changes; ensure clean teardown.","acceptance_criteria":"DirectoryWatcher can start/stop watching a directory; debounces bursts; closes file descriptor on stop/deinit.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:54:19.488752-05:00","updated_at":"2025-12-20T23:45:05.374857-05:00","closed_at":"2025-12-20T23:45:05.374857-05:00","close_reason":"Superseded by FolderBar-cnh (DirectoryWatcher + auto-refresh)","dependencies":[{"issue_id":"FolderBar-xy6","depends_on_id":"FolderBar-35k","type":"blocks","created_at":"2025-12-20T17:55:03.43095-05:00","created_by":"daemon"}]}
{"id":"FolderBar-ygi","title":"CI workflow (build/test/lint)","description":"Add CI quality gates.\n\nScope:\n- Add .github/workflows/ci.yml to run swift build and swift test.\n- Run swiftformat/swiftlint in CI (using repo configs).\n\nNote:\n- compile_and_run.sh already exists (FolderBar-0zr).\n- Lint configs are tracked in FolderBar-4hl.","acceptance_criteria":"- CI workflow exists and runs build/test/lint steps.\n- Lint configs are present in the repo.\n- ./Scripts/compile_and_run.sh builds, packages, and launches the app.","notes":"- Added GitHub Actions workflow (.github/workflows/ci.yml) for build/test/lint.\n- Uses macos-15 runner with Swift 6.1.\n- Installs swiftformat/swiftlint via brew; runs swift build, swift test, swiftformat --lint, swiftlint --strict.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T23:44:38.647557-05:00","updated_at":"2025-12-22T01:58:36.173236-05:00","closed_at":"2025-12-22T01:58:36.173236-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-ygi","depends_on_id":"FolderBar-0zr","type":"blocks","created_at":"2025-12-21T00:06:36.095128-05:00","created_by":"daemon"}]}
{"id":"FolderBar-yns","title":"Document build/run workflow and architecture","description":"Add README with CLI build/run steps (swift build + package_app.sh), project structure notes, and basic usage.","acceptance_criteria":"README covers build, package, run commands and describes core targets.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:54:31.715293-05:00","updated_at":"2025-12-20T22:36:45.730219-05:00","closed_at":"2025-12-20T22:36:45.730219-05:00","close_reason":"Completed","dependencies":[{"issue_id":"FolderBar-yns","depends_on_id":"FolderBar-35k","type":"blocks","created_at":"2025-12-20T17:55:25.668179-05:00","created_by":"daemon"}]}
{"id":"FolderBar-zce","title":"Release DMG packaging","description":"Create a distributable .dmg with app + Applications link for drag install.","acceptance_criteria":"release process outputs a .dmg with FolderBar.app and Applications symlink","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T09:28:14.668585-05:00","updated_at":"2025-12-22T10:28:07.558886-05:00","closed_at":"2025-12-22T10:28:07.558886-05:00","close_reason":"Implemented DMG packaging script with app + Applications link, wired into release.sh, and documented release artifacts. Reflection: kept DMG creation minimal via hdiutil and staging folder to avoid extra deps."}
{"id":"FolderBar-zlo","title":"Core models + FolderScanner (creation-date sort)","description":"Implement core models and folder scanning in FolderBarCore.\n\nScope:\n- Add FolderConfig, FolderChildItem, and FolderSnapshot models.\n- Implement FolderScanner.scan(folderURL:) to read immediate children only (no recursion).\n- Use resource keys: name, isDirectory, creationDate, contentModificationDate.\n- Sort by creationDate desc, falling back to contentModificationDate, then distantPast.\n- No ignore rules or hidden-file filtering; include everything in the immediate directory.","acceptance_criteria":"- FolderScanner returns immediate children sorted by newest first using creationDate fallback.\n- FolderChildItem includes url, name, isDirectory, creationDate.\n- No recursion or filtering beyond immediate children.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T23:44:38.946411-05:00","updated_at":"2025-12-21T01:39:51.58106-05:00","closed_at":"2025-12-21T01:39:51.58106-05:00","close_reason":"Completed"}
